{"version":3,"sources":["webpack:///./src/views/Front/FrontProducts.vue","webpack:///./src/components/FavoriteFilesDialog.vue","webpack:///./src/components/FavoriteFilesDialog.vue?3c53","webpack:///./src/views/Front/FrontProducts.vue?c9b9","webpack:///./src/views/Front/FrontProducts.vue?22e2","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./src/components/FavoriteFilesDialog.vue?2c9f"],"names":["class","products","product","idx","key","id","saved","saveFavoriteProduct","icon","imageUrl","style","height","title","description","to","type","addToCart","disabled","isLoadingItem","ref","choiceFavoriteProduct","favoriteProduct","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","for","addNewFolder","folders","folder","addToFolder","createFolder","errors","name","placeholder","creatFolderForm","backFirst","props","Object","default","watch","this","checkFavoriteFolder","data","modal","createFolderModal","copyFolders","createFolderInProduct","computed","methods","newFolder","productContents","Math","floor","Date","now","Obj","category","push","JSON","stringify","localStorage","setItem","getLocalStorage","closeModal","show","hide","openModal","productCheck","console","log","forEach","item","index","checkResult","some","job","favoriteFolders","parse","getItem","$store","commit","mounted","$refs","favoriteFilesDialog","createFoldersModal","unmounted","dispose","created","__exports__","components","FavoriteFilesDialog","favoriteFoders","checkBookingProduct","qty","product_id","res","getCart","dispatch","isSaved","content","getProducts","$http","then","render","$","DESCRIPTORS","global","uncurryThis","hasOwn","isCallable","isPrototypeOf","toString","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","SymbolPrototype","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","length","result","constructor","NATIVE_SYMBOL","String","symbolToString","symbolValueOf","valueOf","regexp","replace","stringSlice","slice","configurable","get","symbol","string","desc","forced"],"mappings":"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","file":"js/chunk-7dd0c71b.28b4e9db.js","sourcesContent":["<template>\r\n  <div>\r\n    <h2>產品列表</h2>\r\n    <div class=\"container\">\r\n      <!-- row 決定內層的數量 -->\r\n      <div class=\"row row-cols-1 row-cols-lg-4 g-3\">\r\n        <!-- 內層不定義寬度 -->\r\n        <div class=\"col\" v-for=\"(product, idx) in products\" :key=\"product.id\">\r\n          <div class=\"card h-100\">\r\n            <div\r\n              class=\"favorite-mark\"\r\n              :class=\"{ saved: products[idx].saved }\"\r\n              @click.prevent=\"saveFavoriteProduct(product)\"\r\n            >\r\n              <font-awesome-icon\r\n                :icon=\"[products[idx].saved ? 'fa' : 'far', 'bookmark']\"\r\n                class=\"bookmark\"\r\n              />\r\n            </div>\r\n            <div\r\n              v-if=\"product.imageUrl\"\r\n              :style=\"{\r\n                backgroundImage: `url(${product.imageUrl})`,\r\n                height: '300px',\r\n                backgroundSize: 'cover',\r\n              }\"\r\n              class=\"card-img-top primary-image\"\r\n              height=\"196\"\r\n            ></div>\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title text-start\">{{ product.title }}</h5>\r\n              <p class=\"card-text text-start\">\r\n                {{ product.description }}\r\n              </p>\r\n            </div>\r\n            <div class=\"card-footer bg-transparent border-0 d-flex justify-content-between\">\r\n              <router-link\r\n                :to=\"`/front-product/${product.id}`\"\r\n                class=\"btn btn-primary\"\r\n              >\r\n                看內容\r\n              </router-link>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-danger\"\r\n                @click=\"addToCart(product.id)\"\r\n                :disabled=\"isLoadingItem === product.id\"\r\n              >\r\n                <span v-show=\"isLoadingItem === product.id\">\r\n                  <font-awesome-icon icon=\"spinner\" class=\"fa-spin\" />\r\n                </span>\r\n                加到購物車\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <FavoriteFilesDialog ref=\"favoriteFilesDialog\" :choiceFavoriteProduct=\"favoriteProduct\" />\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.favorite-mark {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  border: 1px solid rgba(83, 83, 83, 0.5);\r\n  background-color: rgb(255, 255, 255);\r\n  position: absolute;\r\n  right: 1rem;\r\n  top: 1rem;\r\n  cursor: pointer;\r\n  &.saved {\r\n    background-color: rgb(117, 223, 241);\r\n  }\r\n  .bookmark {\r\n    margin-top: 1rem;\r\n  }\r\n}\r\n</style>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport FavoriteFilesDialog from \"../../components/FavoriteFilesDialog.vue\";\r\nimport { addToCart } from \"../../api\"\r\n\r\nexport default {\r\n  name: \"FrontProducts\",\r\n  components: {\r\n    FavoriteFilesDialog,\r\n  },\r\n  data() {\r\n    return {\r\n      products: [],\r\n      favoriteProduct: {},\r\n      isLoadingItem: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('commonModule', [\r\n      'favoriteFoders',\r\n    ])\r\n  },\r\n  watch: {\r\n    favoriteFoders() {\r\n      this.checkBookingProduct()\r\n    },\r\n  },\r\n  methods: {\r\n    async addToCart(id, qty = 1) {\r\n      try {\r\n        const data = {\r\n          product_id: id,\r\n          qty,\r\n        };\r\n        this.isLoadingItem = id;\r\n        const res = await addToCart({ data });\r\n        if (res) {\r\n          this.isLoadingItem = \"\";\r\n          this.getCart();\r\n        }\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    },\r\n    getCart() {\r\n      this.$store.dispatch('commonModule/getCart')\r\n    },\r\n    checkBookingProduct() { // 檢查商品是否已收藏在資料夾內\r\n      if (this.favoriteFoders) {\r\n        this.products.forEach((product, idx) => {\r\n          let isSaved = false;\r\n          this.favoriteFoders.forEach(((item) => {\r\n            item.productContents.forEach((content) => {\r\n              if (product.id === content.id) {\r\n                isSaved = true;\r\n              }\r\n            })\r\n          }))\r\n          this.products[idx].saved = isSaved;\r\n        })\r\n      }\r\n    },\r\n    saveFavoriteProduct(product) {\r\n      this.favoriteProduct = product;\r\n      this.$refs.favoriteFilesDialog.openModal();\r\n    },\r\n    getProducts() {\r\n      this.$http(\r\n        `${process.env.VUE_APP_API}v2/api/${process.env.VUE_APP_PATH}/products/all`\r\n      ).then((res) => {\r\n        this.products = res.data.products;\r\n        this.checkBookingProduct()\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getProducts();\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <div>\r\n    <div\r\n      id=\"favoriteFilesDialogs\"\r\n      ref=\"favoriteFilesDialog\"\r\n      class=\"modal fade\"\r\n      tabindex=\"-1\"\r\n      aria-labelledby=\"favoriteFilesDialogLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-md modal-dialog-centered\">\r\n        <div class=\"modal-content border-0\">\r\n          <div class=\"modal-header\">\r\n            <h5 id=\"productModalLabel\" class=\"modal-title\">\r\n              <span>收藏夾</span>\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-close\"\r\n              data-bs-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            ></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div @click=\"addNewFolder\">\r\n              <font-awesome-icon :icon=\"['fa', 'plus']\" class=\"plus\" />\r\n              新增資料夾\r\n            </div>\r\n            <template v-for=\"(folder, idx) in folders\" :key=\"folder.id\">\r\n              <div class=\"folder\" @click=\"addToFolder(folder.id, idx)\">\r\n                  {{ folder.title }}\r\n              </div>\r\n            </template>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"modal fade\"\r\n      ref=\"createFoldersModal\"\r\n      id=\"exampleModalToggle2\"\r\n      aria-hidden=\"true\"\r\n      aria-labelledby=\"exampleModalToggleLabel2\"\r\n      tabindex=\"-1\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalToggleLabel2\">新增資料夾</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-close\"\r\n              data-bs-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            ></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            Hide this modal and show the first with the button below.\r\n            <Form ref=\"creatFolderForm\" v-slot=\"{ errors }\" @submit=\"createFolder\">\r\n            <div class=\"form__inputBox\">\r\n              <div class=\"form__labelBox\">\r\n                <label for=\"collectForderName\" class=\"form__label--custom form-label\"\r\n                  >收藏夾名稱</label\r\n                >\r\n                <p class=\"formTag--must\">必填*</p>\r\n              </div>\r\n              <Field\r\n                id=\"collectForderName\"\r\n                ref=\"collectForderName\"\r\n                name=\"收藏夾名稱\"\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                :class=\"{ 'is-invalid': errors['收藏夾名稱'] }\"\r\n                placeholder=\"請輸入收藏夾名稱\"\r\n                v-model=\"creatFolderForm.title\"\r\n              ></Field>\r\n              <ErrorMessage name=\"收藏夾名稱\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <button type=\"submit\" class=\"btn btn-primary w-100 mb-3\">\r\n              建立\r\n            </button>\r\n            <button\r\n              class=\"btn btn-gray-light w-100\"\r\n              @click=\"backFirst\"\r\n              type=\"button\"\r\n            >\r\n              返回\r\n            </button>\r\n          </Form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .folder {\r\n    cursor: pointer;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n    background-color: rgb(33, 245, 174);\r\n    color: white;\r\n    &:hover {\r\n      background-color: rgb(68, 151, 123);\r\n    }\r\n  }\r\n</style>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: \"FavoriteFilesDialog\",\r\n  props: {\r\n    choiceFavoriteProduct: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  watch: {\r\n    choiceFavoriteProduct() {\r\n      this.checkFavoriteFolder(this.choiceFavoriteProduct.id)\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      modal: \"\",\r\n      createFolderModal: \"\",\r\n      folders: [],\r\n      copyFolders: [],\r\n      creatFolderForm: {\r\n        title: '',\r\n      },\r\n      createFolderInProduct: true,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('commonModule', [\r\n      'favoriteFoders',\r\n    ])\r\n  },\r\n  methods: {\r\n    createFolder() {\r\n      const newFolder = {\r\n        title: this.creatFolderForm.title || '未命名收藏夾',\r\n        productContents: [],\r\n        id: `${Math.floor(Date.now() / 1000)}`,\r\n      };\r\n      if (this.createFolderInProduct) {\r\n        const Obj = {\r\n          title: this.choiceFavoriteProduct.title,\r\n          category: this.choiceFavoriteProduct.category,\r\n          id: this.choiceFavoriteProduct.id,\r\n          imageUrl: this.choiceFavoriteProduct.imageUrl,\r\n        };\r\n        newFolder.productContents.push(Obj);\r\n      }\r\n      this.copyFolders.push(newFolder);\r\n      const folders = JSON.stringify(this.copyFolders);\r\n      localStorage.setItem('favorite-folders', folders);\r\n      this.getLocalStorage();\r\n      this.closeModal();\r\n    },\r\n    backFirst() {\r\n      this.modal.show();\r\n      this.createFolderModal.hide();\r\n    },\r\n    addNewFolder() {\r\n      this.modal.hide();\r\n      this.creatFolderForm = {\r\n        title: '',\r\n      };\r\n      this.createFolderModal.show();\r\n    },\r\n    openModal() {\r\n      this.modal.show();\r\n    },\r\n    closeModal() {\r\n      this.modal.hide();\r\n      this.createFolderModal.hide();\r\n    },\r\n    addToFolder(id, idx) {\r\n      if (this.folders[idx].productCheck === false) {\r\n        console.log('內無該筆資料，可新增')\r\n        const product = {\r\n          title: this.choiceFavoriteProduct.title,\r\n          category: this.choiceFavoriteProduct.category,\r\n          id: this.choiceFavoriteProduct.id,\r\n          imageUrl: this.choiceFavoriteProduct.imageUrl,\r\n        };\r\n        this.copyFolders.forEach((item, index) => {\r\n          if (item.id === id) {\r\n            this.copyFolders[index].productContents.push(product);\r\n          }\r\n        });\r\n      } else {\r\n        console.log('有該筆資料，可刪除')\r\n      }\r\n      const folders = JSON.stringify(this.copyFolders);\r\n      localStorage.setItem('favorite-folders', folders);\r\n      this.modal.hide();\r\n      this.getLocalStorage();\r\n    },\r\n    checkFavoriteFolder(id) { // 判斷folders內該項目是否已被保存\r\n      this.folders.forEach((item, index) => {\r\n        const checkResult = item.productContents.some((job) => job.id === id);\r\n        this.folders[index].productCheck = checkResult;\r\n        console.log('checkFavoriteFolder', this.folders)\r\n      });\r\n    },\r\n    getLocalStorage() {\r\n      const favoriteFolders = JSON.parse(localStorage.getItem('favorite-folders'));\r\n      if (favoriteFolders) {\r\n        this.folders = favoriteFolders;\r\n        this.copyFolders = JSON.parse(JSON.stringify(favoriteFolders));\r\n      }\r\n      this.$store.commit('commonModule/SAVE_FAVORIE_FOLDERS', JSON.parse(JSON.stringify(favoriteFolders)));\r\n    },\r\n  },\r\n  mounted() {\r\n    this.modal = new Modal(this.$refs.favoriteFilesDialog);\r\n    this.createFolderModal = new Modal(this.$refs.createFoldersModal);\r\n  },\r\n  unmounted() {\r\n    this.modal.dispose();\r\n    this.createFolderModal.dispose();\r\n  },\r\n  created() {\r\n    this.getLocalStorage();\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./FavoriteFilesDialog.vue?vue&type=template&id=01a8c936&scoped=true\"\nimport script from \"./FavoriteFilesDialog.vue?vue&type=script&lang=js\"\nexport * from \"./FavoriteFilesDialog.vue?vue&type=script&lang=js\"\n\nimport \"./FavoriteFilesDialog.vue?vue&type=style&index=0&id=01a8c936&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\myWork\\\\2022六角春季vue班\\\\new-gh-page-version-2022-homework\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-01a8c936\"]])\n\nexport default __exports__","import { render } from \"./FrontProducts.vue?vue&type=template&id=59c9aa8d\"\nimport script from \"./FrontProducts.vue?vue&type=script&lang=js\"\nexport * from \"./FrontProducts.vue?vue&type=script&lang=js\"\n\nimport \"./FrontProducts.vue?vue&type=style&index=0&id=59c9aa8d&lang=scss\"\n\nimport exportComponent from \"C:\\\\myWork\\\\2022六角春季vue班\\\\new-gh-page-version-2022-homework\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./FrontProducts.vue?vue&type=style&index=0&id=59c9aa8d&lang=scss\"","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar toString = require('../internals/to-string');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';\n  var symbolToString = uncurryThis(SymbolPrototype.toString);\n  var symbolValueOf = uncurryThis(SymbolPrototype.valueOf);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis(''.replace);\n  var stringSlice = uncurryThis(''.slice);\n\n  defineProperty(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = symbolValueOf(this);\n      var string = symbolToString(symbol);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./FavoriteFilesDialog.vue?vue&type=style&index=0&id=01a8c936&lang=scss&scoped=true\""],"sourceRoot":""}