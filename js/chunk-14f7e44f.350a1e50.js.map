{"version":3,"sources":["webpack:///./src/views/Admin/Orders.vue","webpack:///./src/components/OrderModal.vue","webpack:///./src/components/OrderModal.vue?25c1","webpack:///./src/views/Admin/Orders.vue?a27b","webpack:///./src/components/Pagenation.vue","webpack:///./src/components/Pagenation.vue?eef0","webpack:///./src/utils/modal.js","webpack:///./src/components/DelModal.vue","webpack:///./src/components/DelModal.vue?813f","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","active","isLoading","z-index","orders","item","key","length","is_paid","CreatedAt","create_at","user","email","products","product","i","title","qty","unit","total","type","id","updatePaid","for","openModal","openDelOrderModal","order","tempOrder","ref","delOrder","pages","pagination","getOrders","tabindex","role","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","style","name","tel","address","transDate","paid_date","numberWithCommas","final_total","value","$emit","mixins","modal","props","Object","default","data","status","isPaid","computed","time","localDate","Date","toLocaleDateString","methods","emits","watch","this","mounted","__exports__","isNew","currentPage","components","Pagenation","DelModal","OrderModal","res","success","errRes","response","$store","commit","$refs","orderModal","delModal","paid","closeModal","created","render","has_pre","current_page","total_pages","page","idx","has_next","show","hide","Modal","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","get","error"],"mappings":"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","file":"js/chunk-14f7e44f.350a1e50.js","sourcesContent":["<template>\r\n  <Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\r\n  <table class=\"table mt-4\">\r\n    <thead>\r\n      <tr>\r\n        <th>購買時間</th>\r\n        <th>Email</th>\r\n        <th>購買款項</th>\r\n        <th>應付金額</th>\r\n        <th>是否付款</th>\r\n        <th>編輯</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <template v-for=\"(item, key) in orders\" :key=\"key\">\r\n        <tr v-if=\"orders.length\" :class=\"{ 'text-secondary': !item.is_paid }\">\r\n          <td>{{ CreatedAt(item.create_at) }}</td>\r\n          <td><span v-text=\"item.user.email\" v-if=\"item.user\"></span></td>\r\n          <td>\r\n            <ul class=\"list-unstyled\">\r\n              <li v-for=\"(product, i) in item.products\" :key=\"i\">\r\n                {{ product.product.title }} 數量：{{ product.qty }}\r\n                {{ product.product.unit }}\r\n              </li>\r\n            </ul>\r\n          </td>\r\n          <td class=\"text-right\">{{ item.total }}</td>\r\n          <td>\r\n            <div class=\"form-check form-switch\">\r\n              <input\r\n                class=\"form-check-input\"\r\n                type=\"checkbox\"\r\n                :id=\"`paidSwitch${item.id}`\"\r\n                v-model=\"item.is_paid\"\r\n                @change=\"updatePaid(item)\"\r\n              />\r\n              <label class=\"form-check-label\" :for=\"`paidSwitch${item.id}`\">\r\n                <span v-if=\"item.is_paid\">已付款</span>\r\n                <span v-else>未付款</span>\r\n              </label>\r\n            </div>\r\n          </td>\r\n          <td>\r\n            <div class=\"btn-group\">\r\n              <button\r\n                class=\"btn btn-outline-primary btn-sm\"\r\n                type=\"button\"\r\n                @click=\"openModal(item)\"\r\n              >\r\n                檢視\r\n              </button>\r\n              <button\r\n                class=\"btn btn-outline-danger btn-sm\"\r\n                type=\"button\"\r\n                @click=\"openDelOrderModal(item)\"\r\n              >\r\n                刪除\r\n              </button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </template>\r\n    </tbody>\r\n  </table>\r\n  <OrderModal\r\n    :order=\"tempOrder\"\r\n    ref=\"orderModal\"\r\n    @update-paid=\"updatePaid\"\r\n  ></OrderModal>\r\n  <DelModal :item=\"tempOrder\" ref=\"delModal\" @del-item=\"delOrder\"></DelModal>\r\n  <Pagenation :pages=\"pagination\" @get-product=\"getOrders\"></Pagenation>\r\n</template>\r\n\r\n<script>\r\nimport DelModal from '@/components/DelModal.vue';\r\nimport OrderModal from '@/components/OrderModal.vue';\r\nimport Pagenation from '@/components/Pagenation.vue';\r\nimport {\r\n  getOrders,\r\n  delOrders,\r\n  updateOrders\r\n} from \"../../api\"\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      orders: {},\r\n      isNew: false,\r\n      pagination: {},\r\n      isLoading: false,\r\n      tempOrder: {},\r\n      currentPage: 1,\r\n    };\r\n  },\r\n  components: {\r\n    Pagenation,\r\n    DelModal,\r\n    OrderModal,\r\n  },\r\n  computed: {\r\n    CreatedAt() {\r\n      return (time) => {\r\n        const localDate = new Date(time * 1000);\r\n        return localDate.toLocaleDateString();\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    async getOrders(currentPage = 1) {\r\n      this.currentPage = currentPage;\r\n      this.isLoading = true;\r\n      try {\r\n        const res = await getOrders(currentPage);\r\n        if (res.success) {\r\n          this.orders = res.orders;\r\n          this.pagination = res.pagination;\r\n          this.isLoading = false;\r\n        }\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        const status = '錯誤訊息';\r\n        const errRes = error.response;\r\n        this.$store.commit('commonModule/SAVE_TOAST_MESSAGE', { res: errRes, status })\r\n      }\r\n    },\r\n    openModal(item) {\r\n      this.tempOrder = { ...item };\r\n      this.isNew = false;\r\n      this.$refs.orderModal.openModal();\r\n    },\r\n    openDelOrderModal(item) {\r\n      this.tempOrder = { ...item };\r\n      this.$refs.delModal.openModal();\r\n    },\r\n    async updatePaid(item) {\r\n      this.isLoading = true;\r\n      const paid = {\r\n        is_paid: item.is_paid,\r\n      }\r\n      try {\r\n        const res = await updateOrders({ data: paid }, item.id);\r\n        if (res.success) {\r\n          const status = '更新付款狀態';\r\n          this.$store.commit('commonModule/SAVE_TOAST_MESSAGE', { res, status })\r\n          this.isLoading = false;\r\n          this.$refs.orderModal.closeModal();\r\n          this.getOrders(this.currentPage);\r\n        }\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        const status = '更新付款狀態';\r\n        const errRes = error.response;\r\n        this.$store.commit('commonModule/SAVE_TOAST_MESSAGE', { res: errRes, status })\r\n      }\r\n    },\r\n    async delOrder() {\r\n      this.isLoading = true;\r\n      try {\r\n        const res = await delOrders(this.tempOrder.id);\r\n        const status = '刪除訂單';\r\n        if (res.success) {\r\n          this.isLoading = false;\r\n          this.$store.commit('commonModule/SAVE_TOAST_MESSAGE', { res, status })\r\n          this.$refs.delModal.closeModal();\r\n          this.getOrders(this.currentPage);\r\n        }\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        const status = '錯誤訊息';\r\n        const errRes = error.response;\r\n        this.$store.commit('commonModule/SAVE_TOAST_MESSAGE', { res: errRes, status })\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.getOrders();\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"modal\"\r\n    tabindex=\"-1\"\r\n    role=\"dialog\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n    ref=\"modal\"\r\n  >\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n            <span>訂單細節</span>\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n              <h3>用戶資料</h3>\r\n              <table class=\"table\">\r\n                <tbody v-if=\"tempOrder.user\">\r\n                  <tr>\r\n                    <th style=\"width: 100px\">姓名</th>\r\n                    <td>{{ tempOrder.user.name }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Email</th>\r\n                    <td>{{ tempOrder.user.email }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>電話</th>\r\n                    <td>{{ tempOrder.user.tel }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>地址</th>\r\n                    <td>{{ tempOrder.user.address }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"col-md-8\">\r\n              <h3>訂單細節</h3>\r\n              <table class=\"table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th style=\"width: 100px\">訂單編號</th>\r\n                    <td>{{ tempOrder.id }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>下單時間</th>\r\n                    <td>{{ transDate(tempOrder.create_at) }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款時間</th>\r\n                    <td>\r\n                      <span v-if=\"tempOrder.paid_date\">\r\n                        {{ transDate(tempOrder.paid_date) }}\r\n                      </span>\r\n                      <span v-else>時間不正確</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款狀態</th>\r\n                    <td>\r\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\"\r\n                        >已付款</strong\r\n                      >\r\n                      <span v-else class=\"text-muted\">尚未付款</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>總金額</th>\r\n                    <td>\r\n                      ${{ `${numberWithCommas(tempOrder.total)}` }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <h3>選購商品</h3>\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr></tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\r\n                    <th>\r\n                      {{ item.product.title }}\r\n                    </th>\r\n                    <td>{{ item.qty }} / {{ item.product.unit }}</td>\r\n                    <td class=\"text-end\">\r\n                      ${{ `${numberWithCommas(tempOrder.final_total)}` }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div class=\"d-flex justify-content-end\">\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    class=\"form-check-input\"\r\n                    type=\"checkbox\"\r\n                    value=\"\"\r\n                    id=\"flexCheckDefault\"\r\n                    v-model=\"tempOrder.is_paid\"\r\n                  />\r\n                  <label class=\"form-check-label\" for=\"flexCheckDefault\">\r\n                    <span v-if=\"tempOrder.is_paid\">已付款</span>\r\n                    <span v-else>未付款</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-primary\"\r\n            @click=\"$emit('update-paid', tempOrder)\"\r\n          >\r\n            修改付款狀態\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { Modal } from \"bootstrap\";\r\nimport modal from '@/utils/modal';\r\n\r\nexport default {\r\n  mixins: [modal],\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      default() { return {}; },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      status: {},\r\n      modal: '',\r\n      tempOrder: {},\r\n      isPaid: false,\r\n    };\r\n  },\r\n  computed: {\r\n    transDate() {\r\n      return (time) => {\r\n        const localDate = new Date(time * 1000);\r\n        return localDate.toLocaleDateString();\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n  },\r\n  emits: ['update-paid'],\r\n  watch: {\r\n    order() {\r\n      this.tempOrder = this.order;\r\n    },\r\n  },\r\n  mounted() {\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./OrderModal.vue?vue&type=template&id=772e4036\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\myWork\\\\2022六角春季vue班\\\\new-gh-page-version-2022-homework\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Orders.vue?vue&type=template&id=4b382711\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\myWork\\\\2022六角春季vue班\\\\new-gh-page-version-2022-homework\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul class=\"pagination\">\r\n        <li class=\"page-item\" :class=\"{ disabled: !pages.has_pre }\">\r\n          <a class=\"page-link\" @click=\"$emit('get-product', pages.current_page - 1)\" aria-label=\"Previous\">\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n          </a>\r\n        </li>\r\n        <li\r\n          class=\"page-item\"\r\n          :class=\"{ active: page === pages.current_page }\"\r\n          v-for=\"(page, idx) in pages.total_pages\"\r\n          :key=\"idx\"\r\n        >\r\n          <a class=\"page-link\" @click=\"$emit('get-product', page)\">{{ page }}</a>\r\n        </li>\r\n        <li class=\"page-item\" :class=\"{ disabled: !pages.has_next }\">\r\n          <a class=\"page-link\" @click=\"$emit('get-product', pages.current_page + 1)\" aria-label=\"Next\">\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Pagenation\",\r\n  data() {\r\n    return {};\r\n  },\r\n  props: {\r\n    pages: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Pagenation.vue?vue&type=template&id=2b238f92\"\nimport script from \"./Pagenation.vue?vue&type=script&lang=js\"\nexport * from \"./Pagenation.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\myWork\\\\2022六角春季vue班\\\\new-gh-page-version-2022-homework\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import Modal from 'bootstrap/js/dist/modal';\r\n\r\nexport default {\r\n  methods: {\r\n    openModal() {\r\n      this.modal.show();\r\n    },\r\n    closeModal() {\r\n      this.modal.hide();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.modal = new Modal(this.$refs.modal);\r\n  },\r\n};\r\n","<template>\r\n  <div class=\"modal fade\" id=\"delModal\" tabindex=\"-1\" role=\"dialog\"\r\n       aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-danger text-white\">\r\n          <h5 class=\"modal-title\">\r\n            <span>刪除 {{ item.title }}</span>\r\n          </h5>\r\n          <button type=\"button\" class=\"btn-close\"\r\n                  data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          是否刪除 <strong class=\"text-danger\">{{ item.title }}</strong> (刪除後將無法恢復)。\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n                  data-bs-dismiss=\"modal\">取消\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-danger\"\r\n                  @click=\"$emit('del-item')\">確認刪除\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal';\r\n\r\nexport default {\r\n  props: {\r\n    item: {},\r\n  },\r\n  data() {\r\n    return {\r\n      modal: '',\r\n    };\r\n  },\r\n  emits: ['del-item'],\r\n  methods: {\r\n    openModal() {\r\n      this.modal.show();\r\n    },\r\n    closeModal() {\r\n      this.modal.hide();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.modal = new Modal(this.$refs.modal);\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./DelModal.vue?vue&type=template&id=4fd2a5ba\"\nimport script from \"./DelModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\myWork\\\\2022六角春季vue班\\\\new-gh-page-version-2022-homework\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}