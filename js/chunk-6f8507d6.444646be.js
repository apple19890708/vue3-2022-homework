(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f8507d6"],{2559:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),r={class:"container",style:{"margin-top":"5rem !important"}},a={class:"d-flex justify-content-center mt-5"},l={class:"card p-4 mt-3"},o=Object(n["createElementVNode"])("h3",null,"所有訂單",-1),d={class:"p-4"},s={class:"row border p-4"},i={class:"col-md-4 text-start d-flex align-items-center border-end mb-2"},b=Object(n["createElementVNode"])("span",{class:"h5"},"訂單編號: ",-1),m={class:"ps-2 h5"},u={class:"col-md-8 mb-2"},O={class:"p-0"},p={style:{"max-width":"200px","text-align":"start",width:"200px"}},j={style:{"max-width":"50px","text-align":"start",width:"50px"}},E={style:{"max-width":"100px","text-align":"start",width:"100px"}},N={class:"d-flex justify-content-between border-top pt-3"},V={class:"h3"},g={key:0,class:"d-flex align-items-center text-success text-align-center"},f={key:1,class:"d-flex align-items-center text-danger"},h={class:"d-flex justify-content-end"},k=["onClick"],y=["onClick"];function v(e,t,c,v,x,B){var D=Object(n["resolveComponent"])("Pagenation"),w=Object(n["resolveComponent"])("FrontOrderDetailModal");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",a,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-control me-2 orderSearch",type:"search","onUpdate:modelValue":t[0]||(t[0]=function(e){return x.order=e}),placeholder:"訂單搜尋","aria-label":"訂單搜尋"},null,512),[[n["vModelText"],x.order]]),Object(n["createElementVNode"])("button",{class:"btn btn-outline-success",onClick:t[1]||(t[1]=function(t){return e.$router.push("/search-single-order/".concat(x.order))})},"搜尋")]),Object(n["createElementVNode"])("div",l,[o,Object(n["createElementVNode"])("ul",d,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(x.orderList,(function(t,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"d-flex flex-column py-2",key:c},[Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",i,[b,Object(n["createElementVNode"])("span",m,Object(n["toDisplayString"])(t.id),1)]),Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("ul",O,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(t.products,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"d-flex justify-content-around",key:t},[Object(n["createElementVNode"])("div",p,Object(n["toDisplayString"])(e.product.title),1),Object(n["createElementVNode"])("div",j," x"+Object(n["toDisplayString"])(e.qty),1),Object(n["createElementVNode"])("div",E," $ NT"+Object(n["toDisplayString"])(Math.floor(e.final_total)),1)])})),128))])]),Object(n["createElementVNode"])("div",N,[Object(n["createElementVNode"])("span",V,"總計: "+Object(n["toDisplayString"])(Math.floor(t.total))+"元",1),t.is_paid?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",g,"已付款")):Object(n["createCommentVNode"])("",!0),t.is_paid?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",f,"未付款"))]),Object(n["createElementVNode"])("div",h,[t.is_paid?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,class:"btn btn-primary",onClick:function(c){return e.$router.push({path:"/cart/payment/".concat(t.id),query:{currentPage:3}})}}," 立即付款 ",8,k)),Object(n["createElementVNode"])("button",{class:"btn btn-success ms-2",onClick:function(e){return B.openOrderDetailModal(t)}}," 查看明細 ",8,y)])])])})),128))])]),Object(n["createVNode"])(D,{class:"d-flex justify-content-end mt-2",pages:x.pagination,onGetProduct:B.getProductsData},null,8,["pages","onGetProduct"])]),Object(n["createVNode"])(w,{order:x.tempOrder,ref:"FrontOrderDetailModal"},null,8,["order"])])}var x=c("1da1"),B=c("5530"),D=(c("96cf"),c("7b36")),w=c("365c"),S=c("4239"),C={name:"SearchOrder",components:{Pagenation:S["a"],FrontOrderDetailModal:D["a"]},data:function(){return{order:"",orderList:{},pagination:{},tempOrder:{}}},methods:{openOrderDetailModal:function(e){this.tempOrder=Object(B["a"])({},e),this.$refs.FrontOrderDetailModal.openModal()},getOrderList:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(w["m"])();case 3:c=t.sent,c.success&&(e.orderList=c.orders,e.pagination=c.pagination),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getProductsData:function(){var e=arguments,t=this;return Object(x["a"])(regeneratorRuntime.mark((function c(){var n,r;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,c.next=3,Object(w["m"])(n);case 3:r=c.sent,r.success&&(t.orderList=r.orders,t.pagination=r.pagination);case 5:case"end":return c.stop()}}),c)})))()}},created:function(){this.getOrderList()}},_=c("6b0d"),M=c.n(_);const L=M()(C,[["render",v]]);t["default"]=L},4239:function(e,t,c){"use strict";var n=c("7a23"),r={"aria-label":"Page navigation example"},a={class:"pagination"},l=Object(n["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1),o=[l],d=["onClick"],s=Object(n["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1),i=[s];function b(e,t,c,l,s,b){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("nav",r,[Object(n["createElementVNode"])("ul",a,[Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])(["page-item",{disabled:!c.pages.has_pre}])},[Object(n["createElementVNode"])("a",{class:"page-link",onClick:t[0]||(t[0]=function(t){return e.$emit("get-product",c.pages.current_page-1)}),"aria-label":"Previous"},o)],2),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(c.pages.total_pages,(function(t,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:Object(n["normalizeClass"])(["page-item",{active:t===c.pages.current_page}]),key:r},[Object(n["createElementVNode"])("a",{class:"page-link",onClick:function(c){return e.$emit("get-product",t)}},Object(n["toDisplayString"])(t),9,d)],2)})),128)),Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])(["page-item",{disabled:!c.pages.has_next}])},[Object(n["createElementVNode"])("a",{class:"page-link",onClick:t[1]||(t[1]=function(t){return e.$emit("get-product",c.pages.current_page+1)}),"aria-label":"Next"},i)],2)])])])}var m={name:"Pagenation",data:function(){return{}},props:{pages:{type:Object,default:function(){return{}}}}},u=c("6b0d"),O=c.n(u);const p=O()(m,[["render",b]]);t["a"]=p},"68e0":function(e,t,c){"use strict";var n=c("7c2b"),r=c.n(n);t["a"]={methods:{openModal:function(){this.modal.show()},closeModal:function(){this.modal.hide()}},mounted:function(){this.modal=new r.a(this.$refs.modal)}}},"7b36":function(e,t,c){"use strict";c("b0c0");var n=c("7a23"),r={class:"modal fade",id:"modal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},a={class:"modal-dialog modal-xl",role:"document"},l={class:"modal-content border-0"},o=Object(n["createElementVNode"])("div",{class:"modal-header bg-dark text-white"},[Object(n["createElementVNode"])("h5",{class:"modal-title",id:"exampleModalLabel"},[Object(n["createElementVNode"])("span",null,"訂單細節")]),Object(n["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),d={class:"modal-body"},s={class:"row"},i={class:"col-md-4"},b=Object(n["createElementVNode"])("h3",null,"用戶資料",-1),m={class:"table"},u={key:0},O=Object(n["createElementVNode"])("th",{style:{width:"100px"}},"姓名",-1),p=Object(n["createElementVNode"])("th",null,"Email",-1),j=Object(n["createElementVNode"])("th",null,"電話",-1),E=Object(n["createElementVNode"])("th",null,"地址",-1),N={class:"col-md-8"},V=Object(n["createElementVNode"])("h3",null,"訂單細節",-1),g={class:"table"},f=Object(n["createElementVNode"])("th",{style:{width:"100px"}},"訂單編號",-1),h=Object(n["createElementVNode"])("th",null,"下單時間",-1),k=Object(n["createElementVNode"])("th",null,"付款時間",-1),y={key:0},v={key:1},x=Object(n["createElementVNode"])("th",null,"付款狀態",-1),B={key:0,class:"text-success"},D={key:1,class:"text-muted"},w=Object(n["createElementVNode"])("th",null,"總金額",-1),S=Object(n["createElementVNode"])("h3",null,"選購商品",-1),C={class:"table"},_=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr")],-1),M={class:"text-end"},L=Object(n["createElementVNode"])("div",{class:"modal-footer border-0"},[Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ")],-1);function P(e,t,c,P,$,F){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[Object(n["createElementVNode"])("div",a,[Object(n["createElementVNode"])("div",l,[o,Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",i,[b,Object(n["createElementVNode"])("table",m,[$.tempOrder.user?(Object(n["openBlock"])(),Object(n["createElementBlock"])("tbody",u,[Object(n["createElementVNode"])("tr",null,[O,Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])($.tempOrder.user.name),1)]),Object(n["createElementVNode"])("tr",null,[p,Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])($.tempOrder.user.email),1)]),Object(n["createElementVNode"])("tr",null,[j,Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])($.tempOrder.user.tel),1)]),Object(n["createElementVNode"])("tr",null,[E,Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])($.tempOrder.user.address),1)])])):Object(n["createCommentVNode"])("",!0)])]),Object(n["createElementVNode"])("div",N,[V,Object(n["createElementVNode"])("table",g,[Object(n["createElementVNode"])("tbody",null,[Object(n["createElementVNode"])("tr",null,[f,Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])($.tempOrder.id),1)]),Object(n["createElementVNode"])("tr",null,[h,Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(F.transDate($.tempOrder.create_at)),1)]),Object(n["createElementVNode"])("tr",null,[k,Object(n["createElementVNode"])("td",null,[$.tempOrder.paid_date?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",y,Object(n["toDisplayString"])(F.transDate($.tempOrder.paid_date)),1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",v,"時間不正確"))])]),Object(n["createElementVNode"])("tr",null,[x,Object(n["createElementVNode"])("td",null,[$.tempOrder.is_paid?(Object(n["openBlock"])(),Object(n["createElementBlock"])("strong",B,"已付款")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",D,"尚未付款"))])]),Object(n["createElementVNode"])("tr",null,[w,Object(n["createElementVNode"])("td",null," $"+Object(n["toDisplayString"])("".concat(e.numberWithCommas($.tempOrder.total))),1)])])]),S,Object(n["createElementVNode"])("table",C,[_,Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])($.tempOrder.products,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:t.id},[Object(n["createElementVNode"])("th",null,Object(n["toDisplayString"])(t.product.title),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.qty)+" / "+Object(n["toDisplayString"])(t.product.unit),1),Object(n["createElementVNode"])("td",M," $"+Object(n["toDisplayString"])("".concat(e.numberWithCommas($.tempOrder.final_total))),1)])})),128))])])])])]),L])])],512)}var $=c("68e0"),F={mixins:[$["a"]],props:{order:{type:Object,default:function(){return{}}}},data:function(){return{status:{},modal:"",tempOrder:{},isPaid:!1}},computed:{transDate:function(){return function(e){var t=new Date(1e3*e);return t.toLocaleDateString()}}},methods:{},watch:{order:function(){this.tempOrder=this.order}},mounted:function(){}},R=c("6b0d"),q=c.n(R);const z=q()(F,[["render",P]]);t["a"]=z},b0c0:function(e,t,c){var n=c("83ab"),r=c("5e77").EXISTS,a=c("e330"),l=c("9bf2").f,o=Function.prototype,d=a(o.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,i=a(s.exec),b="name";n&&!r&&l(o,b,{configurable:!0,get:function(){try{return i(s,d(this))[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-6f8507d6.444646be.js.map